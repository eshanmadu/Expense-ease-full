{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lap.lk\\\\Expense-tracker\\\\frontend\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport NavBar from '../components/NavBar';\nimport Sidebar from '../components/Sidebar';\nimport Footer from '../components/Footer';\nimport { useAuth } from '../context/AuthContext';\nimport { useTranslation } from 'react-i18next';\nimport LanguageSwitcher from '../components/LanguageSwitcher';\nimport { Globe } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profile() {\n  _s();\n  const {\n    token,\n    login\n  } = useAuth();\n  const {\n    t\n  } = useTranslation();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [user, setUser] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    currency: 'USD',\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const authHeaders = useMemo(() => ({\n    'Content-Type': 'application/json',\n    ...(token ? {\n      Authorization: `Bearer ${token}`\n    } : {})\n  }), [token]);\n  const fetchUserProfile = async () => {\n    try {\n      const res = await fetch('/api/auth/profile', {\n        headers: authHeaders\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.message) || 'Failed to load profile');\n      setUser(data.user);\n      setFormData({\n        name: data.user.name,\n        email: data.user.email,\n        currency: data.user.currency || 'USD',\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      });\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n  useEffect(() => {\n    if (token) {\n      fetchUserProfile();\n    } else {\n      setError('Please log in to view profile');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [token]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setLoading(true);\n    try {\n      // Validate password confirmation if changing password\n      if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\n        throw new Error('New passwords do not match');\n      }\n      const updateData = {\n        name: formData.name,\n        email: formData.email,\n        currency: formData.currency\n      };\n\n      // Only include password fields if new password is provided\n      if (formData.newPassword) {\n        updateData.currentPassword = formData.currentPassword;\n        updateData.newPassword = formData.newPassword;\n      }\n      const res = await fetch('/api/auth/profile', {\n        method: 'PUT',\n        headers: authHeaders,\n        body: JSON.stringify(updateData)\n      });\n      const data = await res.json();\n      if (!res.ok) throw new Error((data === null || data === void 0 ? void 0 : data.message) || 'Failed to update profile');\n      setSuccess('Profile updated successfully');\n      setUser(data.user);\n      // Persist updated user (including currency) to AuthContext/localStorage\n      if (token) {\n        login(token, data.user);\n      }\n\n      // Clear password fields\n      setFormData(prev => ({\n        ...prev,\n        currentPassword: '',\n        newPassword: '',\n        confirmPassword: ''\n      }));\n      setTimeout(() => setSuccess(''), 3000);\n    } catch (e) {\n      setError(e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  if (!token) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative min-h-screen w-full bg-[#F9FAFB]\",\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center h-96\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-lg text-gray-600\",\n          children: \"Please log in to view your profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative min-h-screen w-full bg-[#F9FAFB]\",\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative mx-auto max-w-6xl px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-[240px_1fr] gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-[#111827] mb-2\",\n              children: t('profile.title')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: t('profile.subtitle')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 rounded-lg bg-red-50 border border-red-200 text-red-700 px-4 py-3\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this) : null, success ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3\",\n            children: success\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-2xl p-6 shadow-sm border border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: \"space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-[#111827] mb-4\",\n                  children: t('profile.languageSettings')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-50 rounded-lg p-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 mb-4\",\n                    children: t('profile.languageNote')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-4\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-700\",\n                      children: [t('profile.selectLanguage'), \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(LanguageSwitcher, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-[#111827] mb-4\",\n                  children: t('profile.personalInfo')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: t('profile.fullName')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"name\",\n                      value: formData.name,\n                      onChange: handleInputChange,\n                      required: true,\n                      className: \"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\",\n                      placeholder: t('profile.fullName')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: t('profile.emailAddress')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      name: \"email\",\n                      value: formData.email,\n                      onChange: handleInputChange,\n                      required: true,\n                      className: \"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\",\n                      placeholder: t('profile.emailAddress')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: t('profile.preferredCurrency')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"relative\",\n                      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                        name: \"currency\",\n                        value: formData.currency,\n                        onChange: handleInputChange,\n                        className: \"w-full rounded-lg border border-gray-300 px-3 py-2 pr-10 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60 appearance-none\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"USD\",\n                          children: \"USD - US Dollar ($)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 218,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"LKR\",\n                          children: \"LKR - Sri Lankan Rupee (\\u0DBB\\u0DD4)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"EUR\",\n                          children: \"EUR - Euro (\\u20AC)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 220,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"GBP\",\n                          children: \"GBP - British Pound (\\xA3)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 221,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"INR\",\n                          children: \"INR - Indian Rupee (\\u20B9)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 222,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(Globe, {\n                        className: \"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-[#111827] mb-4\",\n                  children: \"Change Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 mb-4\",\n                  children: \"Leave password fields empty if you don't want to change your password.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: \"Current Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      name: \"currentPassword\",\n                      value: formData.currentPassword,\n                      onChange: handleInputChange,\n                      className: \"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\",\n                      placeholder: \"Enter current password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: \"New Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      name: \"newPassword\",\n                      value: formData.newPassword,\n                      onChange: handleInputChange,\n                      className: \"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\",\n                      placeholder: \"Enter new password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 254,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm font-medium text-gray-700 mb-1\",\n                      children: \"Confirm New Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"password\",\n                      name: \"confirmPassword\",\n                      value: formData.confirmPassword,\n                      onChange: handleInputChange,\n                      className: \"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\",\n                      placeholder: \"Confirm new password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-lg font-semibold text-[#111827] mb-4\",\n                  children: \"Account Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gray-50 rounded-lg p-4 space-y-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Member since:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: new Date(user.createdAt).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm text-gray-600\",\n                      children: \"Last updated:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-900\",\n                      children: new Date(user.updatedAt).toLocaleDateString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-end pt-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  disabled: loading,\n                  className: \"px-6 py-2 bg-[#7C3AED] text-white rounded-lg hover:brightness-110 transition disabled:opacity-70 font-medium\",\n                  children: loading ? 'Updating...' : 'Update Profile'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"T44WuCWZIe1SPnVnwGb7++J7u3k=\", false, function () {\n  return [useAuth, useTranslation];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","NavBar","Sidebar","Footer","useAuth","useTranslation","LanguageSwitcher","Globe","jsxDEV","_jsxDEV","Profile","_s","token","login","t","loading","setLoading","error","setError","success","setSuccess","user","setUser","formData","setFormData","name","email","currency","currentPassword","newPassword","confirmPassword","authHeaders","Authorization","fetchUserProfile","res","fetch","headers","data","json","ok","Error","message","e","handleSubmit","preventDefault","updateData","method","body","JSON","stringify","prev","setTimeout","handleInputChange","value","target","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","required","placeholder","Date","createdAt","toLocaleDateString","updatedAt","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Lap.lk/Expense-tracker/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport NavBar from '../components/NavBar';\r\nimport Sidebar from '../components/Sidebar';\r\nimport Footer from '../components/Footer';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport { useTranslation } from 'react-i18next';\r\nimport LanguageSwitcher from '../components/LanguageSwitcher';\r\nimport { Globe } from 'lucide-react';\r\n\r\nfunction Profile() {\r\n  const { token, login } = useAuth();\r\n  const { t } = useTranslation();\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [user, setUser] = useState(null);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    currency: 'USD',\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const authHeaders = useMemo(() => ({\r\n    'Content-Type': 'application/json',\r\n    ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n  }), [token]);\r\n\r\n  const fetchUserProfile = async () => {\r\n    try {\r\n      const res = await fetch('/api/auth/profile', { headers: authHeaders });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data?.message || 'Failed to load profile');\r\n      \r\n      setUser(data.user);\r\n      setFormData({\r\n        name: data.user.name,\r\n        email: data.user.email,\r\n        currency: data.user.currency || 'USD',\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      });\r\n    } catch (e) {\r\n      setError(e.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      fetchUserProfile();\r\n    } else {\r\n      setError('Please log in to view profile');\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [token]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setSuccess('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      // Validate password confirmation if changing password\r\n      if (formData.newPassword && formData.newPassword !== formData.confirmPassword) {\r\n        throw new Error('New passwords do not match');\r\n      }\r\n\r\n      const updateData = {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        currency: formData.currency\r\n      };\r\n\r\n      // Only include password fields if new password is provided\r\n      if (formData.newPassword) {\r\n        updateData.currentPassword = formData.currentPassword;\r\n        updateData.newPassword = formData.newPassword;\r\n      }\r\n\r\n      const res = await fetch('/api/auth/profile', {\r\n        method: 'PUT',\r\n        headers: authHeaders,\r\n        body: JSON.stringify(updateData),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data?.message || 'Failed to update profile');\r\n\r\n      setSuccess('Profile updated successfully');\r\n      setUser(data.user);\r\n      // Persist updated user (including currency) to AuthContext/localStorage\r\n      if (token) {\r\n        login(token, data.user);\r\n      }\r\n      \r\n      // Clear password fields\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n      }));\r\n\r\n      setTimeout(() => setSuccess(''), 3000);\r\n    } catch (e) {\r\n      setError(e.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  if (!token) {\r\n    return (\r\n      <div className=\"relative min-h-screen w-full bg-[#F9FAFB]\">\r\n        <NavBar />\r\n        <div className=\"flex items-center justify-center h-96\">\r\n          <div className=\"text-lg text-gray-600\">Please log in to view your profile</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative min-h-screen w-full bg-[#F9FAFB]\">\r\n      <NavBar />\r\n      <div className=\"relative mx-auto max-w-6xl px-4 py-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-[240px_1fr] gap-6\">\r\n          <Sidebar />\r\n\r\n          <main>\r\n            <div className=\"mb-8\">\r\n              <h1 className=\"text-3xl font-bold text-[#111827] mb-2\">{t('profile.title')}</h1>\r\n              <p className=\"text-gray-600\">{t('profile.subtitle')}</p>\r\n            </div>\r\n\r\n            {error ? (\r\n              <div className=\"mb-6 rounded-lg bg-red-50 border border-red-200 text-red-700 px-4 py-3\">\r\n                {error}\r\n              </div>\r\n            ) : null}\r\n\r\n            {success ? (\r\n              <div className=\"mb-6 rounded-lg bg-emerald-50 border border-emerald-200 text-emerald-700 px-4 py-3\">\r\n                {success}\r\n              </div>\r\n            ) : null}\r\n\r\n            <div className=\"bg-white rounded-2xl p-6 shadow-sm border border-gray-200\">\r\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                {/* Language Settings Section */}\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-[#111827] mb-4\">{t('profile.languageSettings')}</h3>\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <p className=\"text-sm text-gray-600 mb-4\">{t('profile.languageNote')}</p>\r\n                    <div className=\"flex items-center gap-4\">\r\n                      <span className=\"text-sm font-medium text-gray-700\">{t('profile.selectLanguage')}:</span>\r\n                      <LanguageSwitcher />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Personal Information Section */}\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-[#111827] mb-4\">{t('profile.personalInfo')}</h3>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {t('profile.fullName')}\r\n                      </label>\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"name\"\r\n                        value={formData.name}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        className=\"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\"\r\n                        placeholder={t('profile.fullName')}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {t('profile.emailAddress')}\r\n                      </label>\r\n                      <input\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={formData.email}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        className=\"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\"\r\n                        placeholder={t('profile.emailAddress')}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        {t('profile.preferredCurrency')}\r\n                      </label>\r\n                      <div className=\"relative\">\r\n                        <select\r\n                          name=\"currency\"\r\n                          value={formData.currency}\r\n                          onChange={handleInputChange}\r\n                          className=\"w-full rounded-lg border border-gray-300 px-3 py-2 pr-10 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60 appearance-none\"\r\n                        >\r\n                          <option value=\"USD\">USD - US Dollar ($)</option>\r\n                          <option value=\"LKR\">LKR - Sri Lankan Rupee (රු)</option>\r\n                          <option value=\"EUR\">EUR - Euro (€)</option>\r\n                          <option value=\"GBP\">GBP - British Pound (£)</option>\r\n                          <option value=\"INR\">INR - Indian Rupee (₹)</option>\r\n                        </select>\r\n                        <Globe className=\"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Password Section */}\r\n                <div>\r\n                  <h3 className=\"text-lg font-semibold text-[#111827] mb-4\">Change Password</h3>\r\n                  <p className=\"text-sm text-gray-600 mb-4\">\r\n                    Leave password fields empty if you don't want to change your password.\r\n                  </p>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Current Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"currentPassword\"\r\n                        value={formData.currentPassword}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\"\r\n                        placeholder=\"Enter current password\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"newPassword\"\r\n                        value={formData.newPassword}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\"\r\n                        placeholder=\"Enter new password\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                        Confirm New Password\r\n                      </label>\r\n                      <input\r\n                        type=\"password\"\r\n                        name=\"confirmPassword\"\r\n                        value={formData.confirmPassword}\r\n                        onChange={handleInputChange}\r\n                        className=\"w-full rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-[#7C3AED]/30 focus:border-[#7C3AED]/60\"\r\n                        placeholder=\"Confirm new password\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Account Information */}\r\n                {user && (\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold text-[#111827] mb-4\">Account Information</h3>\r\n                    <div className=\"bg-gray-50 rounded-lg p-4 space-y-2\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-sm text-gray-600\">Member since:</span>\r\n                        <span className=\"text-sm font-medium text-gray-900\">\r\n                          {new Date(user.createdAt).toLocaleDateString()}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-sm text-gray-600\">Last updated:</span>\r\n                        <span className=\"text-sm font-medium text-gray-900\">\r\n                          {new Date(user.updatedAt).toLocaleDateString()}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Submit Button */}\r\n                <div className=\"flex justify-end pt-4\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"px-6 py-2 bg-[#7C3AED] text-white rounded-lg hover:brightness-110 transition disabled:opacity-70 font-medium\"\r\n                  >\r\n                    {loading ? 'Updating...' : 'Update Profile'}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}